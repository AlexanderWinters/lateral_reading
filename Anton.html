<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Review System</title>
    <style>
        /* Global styles */
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --background-color: #f5f7fa;
            --sidebar-color: #f0f2f5;
            --text-color: #333;
            --border-color: #ddd;
            --highlight-color: #e4f0f9;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --danger-color: #f44336;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            display: flex;
            height: 100vh;
            background-color: var(--background-color);
            color: var(--text-color);
            overflow: hidden;
        }

        /* Sidebar/Inbox styles */
        .sidebar {
            width: 300px;
            height: 100%;
            background-color: var(--sidebar-color);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .home-button {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }

        .home-button svg {
            margin-right: 8px;
        }

        .language-selector {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            background-color: white;
            cursor: pointer;
        }

        .sidebar-posts {
            flex: 1;
            overflow-y: auto;
        }

        .post-item {
            display: flex;
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .post-item:hover {
            background-color: var(--highlight-color);
        }

        .post-item.unread::after {
            content: '';
            display: block;
            width: 10px;
            height: 10px;
            background-color: var(--primary-color);
            border-radius: 50%;
            margin-left: 10px;
            align-self: center;
        }

        .post-item.processed {
            opacity: 0.7;
        }

        .post-thumbnail {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 12px;
        }

        .post-info {
            flex: 1;
        }

        .post-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .post-status {
            display: flex;
            align-items: center;
            font-size: 0.8rem;
            color: var(--success-color);
        }

        .post-status.flagged {
            color: var(--danger-color);
        }

        .post-status svg {
            margin-right: 4px;
        }

        /* Main content styles */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .top-menu {
            display: none;
            padding: 16px;
            background-color: white;
            border-bottom: 1px solid var(--border-color);
        }

        .top-menu-buttons {
            display: flex;
            gap: 10px;
        }

        .action-button {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background-color: var(--primary-color);
            color: white;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .action-button svg {
            margin-right: 8px;
        }

        .action-button:hover {
            background-color: var(--secondary-color);
        }

        .action-button.publish {
            background-color: var(--success-color);
        }

        .action-button.flag {
            background-color: var(--danger-color);
        }

        .action-button.search {
            background-color: var(--secondary-color);
        }

        .back-button {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            border: none;
            background-color: transparent;
            color: var(--primary-color);
            cursor: pointer;
            font-weight: 500;
        }

        .back-button svg {
            margin-right: 8px;
        }

        .content-area {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
        }

        /* Page-specific styles */
        .video-container {
            width: 100%;
            max-width: 800px;
            aspect-ratio: 16/9;
            margin: 0 auto;
            background-color: black;
        }

        .video-container video {
            width: 100%;
            height: 100%;
        }

        .post-view {
            width: 100%;
            max-width: 800px;
        }

        .post-image {
            width: 100%;
            max-height: 500px;
            object-fit: contain;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .post-content h2 {
            margin-bottom: 16px;
        }

        .post-content p {
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .search-buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
            width: 100%;
            max-width: 500px;
            margin: 40px 0;
        }

        .search-button {
            padding: 16px;
            font-size: 1.1rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .search-button:hover {
            background-color: var(--secondary-color);
        }

        .search-results {
            width: 100%;
            max-width: 800px;
        }

        .search-result-item {
            padding: 16px;
            margin-bottom: 16px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .search-result-item.ad {
            border-left: 4px solid var(--warning-color);
        }

        .search-result-item.ad::before {
            content: attr(data-ad-text);
            display: block;
            font-size: 0.7rem;
            color: var(--warning-color);
            margin-bottom: 4px;
        }

        .image-search-results {
            width: 100%;
            max-width: 800px;
        }

        .image-verification {
            margin-bottom: 20px;
            text-align: center;
        }

        .verification-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .image-item {
            position: relative;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid transparent;
        }

        .image-item.selected {
            border-color: var(--primary-color);
        }

        .image-item img {
            width: 100%;
            aspect-ratio: 4/3;
            object-fit: cover;
        }

        .image-info {
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            font-size: 0.8rem;
        }

        .feedback-message {
            text-align: center;
            margin: 20px 0;
            font-weight: 600;
            color: var(--success-color);
        }

        .feedback-message.error {
            color: var(--danger-color);
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                max-height: 40vh;
            }

            .main-content {
                width: 100%;
            }

            .image-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Page visibility management */
        .page {
            display: none;
            width: 100%;
        }

        .page.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <button class="home-button" id="homeButton">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 22V12H15V22" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span data-lang-key="home">Home</span>
            </button>
            <select class="language-selector" id="languageSelector">
                <option value="en">English</option>
                <option value="sv">Svenska</option>
            </select>
        </div>
        <div class="sidebar-posts" id="sidebarPosts">
            <!-- Post items will be generated here -->
        </div>
    </div>

    <div class="main-content">
        <div class="top-menu" id="topMenu">
            <div class="top-menu-buttons" id="postActionButtons">
                <button class="action-button publish" id="publishButton">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 6L9 17L4 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span data-lang-key="publish">Suggest to publish</span>
                </button>
                <button class="action-button search" id="imageSearchButton">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 5H4C2.89543 5 2 5.89543 2 7V17C2 18.1046 2.89543 19 4 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 13H20V7C20 5.89543 19.1046 5 18 5H12V9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span data-lang-key="imageSearch">Perform image search</span>
                </button>
                <button class="action-button search" id="textSearchButton">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21L16.65 16.65" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span data-lang-key="textSearch">Perform text search</span>
                </button>
                <button class="action-button flag" id="flagButton">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 2L6 22" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6 6H20L18 12L20 18H6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span data-lang-key="flag">Flag as false</span>
                </button>
            </div>
            <div class="post-status-message" id="postStatusMessage" style="display: none;"></div>
            <button class="back-button" id="backButton" style="display: none;">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span data-lang-key="backToPost">Go back to post</span>
            </button>
        </div>

        <div class="content-area" id="contentArea">
            <!-- Video Instructions Page (Landing page) -->
            <div class="page active" id="videoInstructionsPage">
                <h2 data-lang-key="videoInstructionsTitle">Video Instructions</h2>
                <div class="video-container">
                    <video id="instructionsVideo" controls>
                        <source src="/api/placeholder/800/450" type="video/mp4">
                        <span data-lang-key="videoNotSupported">Your browser does not support the video tag.</span>
                    </video>
                </div>
            </div>

            <!-- Post View Page -->
            <div class="page" id="postViewPage">
                <div class="post-view">
                    <img class="post-image" id="postImage" src="/api/placeholder/800/500" alt="Post image">
                    <div class="post-content">
                        <h2 id="postTitle">Post Title</h2>
                        <p id="postDescription">Post description will appear here.</p>
                    </div>
                </div>
            </div>

            <!-- Text Search Options Page -->
            <div class="page" id="textSearchOptionsPage">
                <h2 data-lang-key="selectSearchTerm">Select a search term</h2>
                <div class="search-buttons" id="searchButtons">
                    <!-- Search buttons will be generated here -->
                </div>
            </div>

            <!-- Text Search Results Page -->
            <div class="page" id="textSearchResultsPage">
                <h2 data-lang-key="searchResults">Search Results</h2>
                <div class="search-results" id="searchResults">
                    <!-- Search results will be generated here -->
                </div>
            </div>

            <!-- Image Search Results Page -->
            <div class="page" id="imageSearchResultsPage">
                <div class="image-search-results">
                    <div class="image-verification">
                        <h2 data-lang-key="verifyTip">Verify the tip</h2>
                        <div class="verification-buttons">
                            <button class="action-button flag" id="tipFalseButton">
                                <span data-lang-key="tipFalse">The tip is false</span>
                            </button>
                            <button class="action-button publish" id="tipTrueButton">
                                <span data-lang-key="tipTrue">The tip is true</span>
                            </button>
                        </div>
                        <p data-lang-key="selectSupportingImages">Select the images that support your decision:</p>
                    </div>
                    <div class="image-grid" id="imageGrid">
                        <!-- Image items will be generated here -->
                    </div>
                </div>
            </div>

            <!-- Feedback Page -->
            <div class="page" id="feedbackPage">
                <h2 class="feedback-message" id="feedbackMessage"></h2>
                <div class="video-container">
                    <video id="feedbackVideo" controls autoplay>
                        <source src="/api/placeholder/800/450" type="video/mp4">
                        <span data-lang-key="videoNotSupported">Your browser does not support the video tag.</span>
                    </video>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Language data (JSON object with all text)
        // Language data with additional translations
const languageData = {
    "en": {
        "home": "Home",
        "publish": "Suggest to publish",
        "imageSearch": "Perform image search",
        "textSearch": "Perform text search",
        "flag": "Flag as false",
        "backToPost": "Go back to post",
        "videoInstructionsTitle": "Video Instructions",
        "videoNotSupported": "Your browser does not support the video tag.",
        "selectSearchTerm": "Select a search term",
        "searchResults": "Search Results",
        "verifyTip": "Verify the tip",
        "tipFalse": "The tip is false",
        "tipTrue": "The tip is true",
        "selectSupportingImages": "Select the images that support your decision:",
        "published": "Suggested to be published",
        "flagged": "Flagged as false",
        "advertisement": "Advertisement",
        "feedbackPublished": "Content has been suggested for publication!",
        "feedbackFlagged": "Content has been flagged as false!",
        "loadMore": "Load more",
        "noResults": "No results found"
    },
    "sv": {
        "home": "Hem",
        "publish": "Föreslå för publicering",
        "imageSearch": "Utför bildsökning",
        "textSearch": "Utför textsökning",
        "flag": "Flagga som falskt",
        "backToPost": "Tillbaka till inlägg",
        "videoInstructionsTitle": "Videoinstruktioner",
        "videoNotSupported": "Din webbläsare stöder inte videotaggen.",
        "selectSearchTerm": "Välj en sökterm",
        "searchResults": "Sökresultat",
        "verifyTip": "Verifiera tipset",
        "tipFalse": "Tipset är falskt",
        "tipTrue": "Tipset är sant",
        "selectSupportingImages": "Välj bilder som stöder ditt beslut:",
        "published": "Föreslagen för publicering",
        "flagged": "Flaggad som falsk",
        "advertisement": "Annons",
        "feedbackPublished": "Innehållet har föreslagits för publicering!",
        "feedbackFlagged": "Innehållet har flaggats som falskt!",
        "loadMore": "Ladda mer",
        "noResults": "Inga resultat hittades"
    }
};

// Updated posts data structure that works with the existing code
const postsData = [
    {
        id: 1,
        title: "HOUSES ON FIRE -- authorities COVERING THIS UP!",
        thumbnail: "img/burnalert.png",
        image: "img/burnalert.png",
        description: "The images show a burning area in the city. Comments are upset: 'Why is no one reporting this?' 'We deserve to know the truth!'",
        unread: true,
        processed: false,
        status: null,
        searchTerms: ["Fire in the city", "City fire reports", "Authorities hiding fire", "Emergency response"],
        searchResults: [
            { title: "WAKE UP NOW", description: "This is being covered up! All over the country there are fires, but the media is silent!", isAd: true },
            { title: "Emergency Services confirm: Fire in northern district -- fire department on site", description: "Official update on the current situation", isAd: true },
            { title: "LIVE: Our reporters are reporting from the scene where flames are rising", description: "Live broadcast from the location", isAd: true },
            { title: "It's burning now -- and they pretend like nothing is happening! It's up to us to act!", description: "Opinion piece with strong claims", isAd: false },
            { title: "Fire under control -- no injuries. Cause still unknown", description: "Brief update on the situation", isAd: false },
            { title: "No alarms or incidents registered in the central area during the morning", description: "Official fire department status", isAd: false }
        ],
        imageResults: [
            { src: "/api/placeholder/400/300", location: "Wide-angle image showing same fire but no one reacting - likely photomontage", date: "Yesterday" },
            { src: "/api/placeholder/400/300", location: "Manipulated image where fire is part of a montage", date: "Yesterday" },
            { src: "/api/placeholder/400/300", location: "Original image from a riot in another city with mountain peaks in background", date: "Two years ago" },
            { src: "/api/placeholder/400/300", location: "Original video showing parts cut out for dramatic effect", date: "Two years ago" }
        ]
    },
    {
        id: 2,
        title: "Extremist group plans attack on the library!",
        thumbnail: "img/libraryalert.png",
        image: "img/libraryalert.png",
        description: "Check the map below -- it's clear where they will strike. We must act before it's too late.",
        unread: true,
        processed: false,
        status: null,
        searchTerms: ["Library attack plans", "Extremist library threat", "Public building security", "Religious extremism"],
        searchResults: [
            { title: "NEWSBLADE: Post about attack -- police investigating", description: "Security services confirm they are analyzing a post that points to the library.", isAd: true },
            { title: "FREECITY.blog: 'God will guide our hands'", description: "Extremist blog spreading threatening rhetoric.", isAd: true },
            { title: "WorshippersUnited: 'The torch bearers are approaching'", description: "Symbolic language but no concrete threats.", isAd: true },
            { title: "SECURITYSOURCE.com: Increased activity in religious networks", description: "Analysis shows higher activity from radical groups in the southern region.", isAd: false },
            { title: "THE GOVERNMENT PLANNED THE ATTACK -- new evidence!", description: "This is part of a larger plan to introduce control zones in commercial areas.", isAd: false },
            { title: "Video from 2020 reused in library rumors", description: "A virally spread film claimed to show the library -- but the images are from elsewhere.", isAd: false }
        ],
        imageResults: [
            { src: "img/library1.png", location: "Library image published by tourist blog two weeks ago", date: "Two weeks ago" },
            { src: "img/library2.png", location: "Chat screenshot with extremist group statements", date: "Three days ago" },
            { src: "img/library3.png", location: "Masked persons from another protest with edited background", date: "One month ago" },
            { src: "img/library4.png", location: "Google Maps screenshot of library framed in threatening context", date: "One week ago" }
        ]
    },
    {
        id: 3,
        title: "Military vehicles rolling through the city -- in the middle of the night",
        thumbnail: "img/extrimistalert.png",
        image: "img/extrimistalert.png",
        description: "No explanation. Something BIG is happening. Is it time for martial law? WAKE UP BEFORE IT'S TOO LATE!",
        unread: true,
        processed: false,
        status: null,
        searchTerms: ["Military vehicles city", "Night military transport", "Martial law rumors", "Defense exercise"],
        searchResults: [
            { title: "MILITARY TAKEOVER -- THE COUP HAS BEGUN", description: "Military columns rolling through cities at night. This is how dictatorships begin.", isAd: true },
            { title: "Defense Force: Exercise during week 14 -- no threat", description: "Military vehicles moving as part of the 'City Pulse 2025' exercise.", isAd: true },
            { title: "'I saw 15 trucks in a row -- what are they hiding?'", description: "According to sources, this is not just an exercise.", isAd: true },
            { title: "Video analysis: Same clip was spread already in 2021", description: "Analysis shows the video is identical to a clip from a previous exercise.", isAd: false },
            { title: "'The Fish Lovers warn: Soon democracy will fall'", description: "Religious leaders in the southern network warn of 'the regime's last maneuver'.", isAd: false },
            { title: "Traffic disruptions at night -- military columns practice city logistics", description: "The military exercise is conducted in cooperation with the municipality.", isAd: false }
        ],
        imageResults: [
            { src: "/api/placeholder/400/300", location: "News article from two years ago showing same vehicles at Brantholm", date: "April 14, 2023" },
            { src: "/api/placeholder/400/300", location: "Same vehicles in daylight with 'Defense Exercise' banner visible", date: "April 15, 2023" },
            { src: "/api/placeholder/400/300", location: "Manipulated version with darker filter and dramatic music added", date: "Today" },
            { src: "/api/placeholder/400/300", location: "Video republished on extremist account suggesting imminent coup", date: "Yesterday" }
        ]
    },
    {
        id: 4,
        title: "Water poisoning in the district!",
        thumbnail: "/api/placeholder/60/60",
        image: "/api/placeholder/800/500",
        description: "Several residents say the tap water smells like chemicals. Why is no one talking about this?",
        unread: false,
        processed: false,
        status: null,
        searchTerms: ["Toxic tap water", "Chemical water pollution", "Water safety concerns", "District water quality"],
        searchResults: [
            { title: "DANGER: The water is poisonous!", description: "The authorities are hiding the truth about our water supply.", isAd: true },
            { title: "Water quality tests normal in all districts", description: "The water company reports all tests showing normal values within safety limits.", isAd: true },
            { title: "City water department responds to social media rumors", description: "Officials confirm water is safe to drink after thorough testing.", isAd: true },
            { title: "EXCLUSIVE: Water company whistle-blower speaks out", description: "Anonymous employee claims safety protocols are being ignored.", isAd: false },
            { title: "Is your water safe? What you need to know", description: "Scientific explanation of water testing procedures.", isAd: false },
            { title: "Seasonal changes in water treatment explained", description: "Annual spring chlorine treatment underway. May cause temporary changes in odor.", isAd: false }
        ],
        imageResults: [
            { src: "/api/placeholder/400/300", location: "Image of cloudy water from a case in another country", date: "March 15, 2020" },
            { src: "/api/placeholder/400/300", location: "Laboratory test results showing all parameters within normal limits", date: "Today" },
            { src: "/api/placeholder/400/300", location: "Stock photo of water testing being conducted", date: "Stock photo" },
            { src: "/api/placeholder/400/300", location: "Diagram explaining the seasonal chlorine treatment process", date: "Last week" }
        ]
    },
    {
        id: 5,
        title: "New type of infection spreading among pets -- authorities silent!",
        thumbnail: "/api/placeholder/60/60",
        image: "/api/placeholder/800/500",
        description: "A warning is being shared with images of sick animals. Is this the beginning of a larger outbreak?",
        unread: false,
        processed: false,
        status: null,
        searchTerms: ["Pet disease outbreak", "Animal infection epidemic", "Veterinary alert", "Pet health warning"],
        searchResults: [
            { title: "EMERGENCY WARNING FOR ALL PET OWNERS", description: "Unknown disease spreading rapidly among cats and dogs.", isAd: true },
            { title: "Veterinary Association addresses social media concerns", description: "No unusual increase in pet illnesses reported.", isAd: true },
            { title: "How to protect your pets during allergy season", description: "Practical advice from veterinarians on managing seasonal allergies in pets.", isAd: true },
            { title: "Is big pharma creating pet diseases to sell medication?", description: "Opinion piece claiming conspiracy between pet food companies and medicine industry.", isAd: false },
            { title: "City animal shelters report normal health conditions", description: "No increase in sick animals according to all major shelters and clinics.", isAd: false },
            { title: "Images circulating online from 2021 outbreak in Asia", description: "Fact-check confirms the viral images are from a documented case elsewhere.", isAd: false }
        ],
        imageResults: [
            { src: "/api/placeholder/400/300", location: "Image of sick dog from documented outbreak in South Korea", date: "June 2021" },
            { src: "/api/placeholder/400/300", location: "Close-up of rash on cat's skin from a veterinary textbook", date: "Stock medical image" },
            { src: "/api/placeholder/400/300", location: "Current statistics from city veterinary clinics showing normal rates", date: "Updated today" },
            { src: "/api/placeholder/400/300", location: "Infographic comparing seasonal allergies vs. disease symptoms", date: "Created yesterday" }
        ]
    }
];

// Swedish versions could be added through a language-switching function
// that transforms titles and descriptions based on the selected language
// This function would need to be added to the existing language switch logic
function translatePostsToSwedish() {
    // This is a sample implementation - would need a full translation table for all posts
    const swedishPosts = [
        {
            id: 1,
            title: "HUSEN STÅR I LÅGOR -- myndigheterna TYSTAR NER DETTA!",
            thumbnail: "/api/placeholder/60/60",
            image: "/api/placeholder/800/500",
            description: "Bilderna visar ett brinnande område i staden. Kommentarerna är upprörda: 'Varför rapporterar ingen detta?' 'Vi förtjänar att få veta sanningen!'",
            unread: true,
            processed: false,
            status: null,
            searchTerms: ["Brand i staden", "Stadsbranden rapporter", "Myndigheter döljer brand", "Räddningstjänstens insats"],
            // Rest of the data follows same structure as English posts
            // ...but with translated content
        },
        // Additional Swedish post translations
    ];
    return swedishPosts;
}

// Example implementation of language switching for posts
// This would need to be integrated with the existing language switching logic
function updatePostsForLanguage(language) {
    if (language === 'sv') {
        // Replace posts with Swedish versions
        // Note: This is simplified - a real implementation would need to preserve
        // the current state of each post (read/unread, processed status, etc.)
        const swedishPosts = translatePostsToSwedish();
        // This is just a conceptual implementation
        // postsData = swedishPosts;
        // generatePosts();
    } else {
        // Use default English posts
        // generatePosts();
    }
}

        // DOM elements
        const languageSelector = document.getElementById('languageSelector');
        const homeButton = document.getElementById('homeButton');
        const sidebarPosts = document.getElementById('sidebarPosts');
        const topMenu = document.getElementById('topMenu');
        const postActionButtons = document.getElementById('postActionButtons');
        const postStatusMessage = document.getElementById('postStatusMessage');
        const backButton = document.getElementById('backButton');
        const contentArea = document.getElementById('contentArea');
        const publishButton = document.getElementById('publishButton');
        const imageSearchButton = document.getElementById('imageSearchButton');
        const textSearchButton = document.getElementById('textSearchButton');
        const flagButton = document.getElementById('flagButton');
        const tipTrueButton = document.getElementById('tipTrueButton');
        const tipFalseButton = document.getElementById('tipFalseButton');

        // Page elements
        const videoInstructionsPage = document.getElementById('videoInstructionsPage');
        const postViewPage = document.getElementById('postViewPage');
        const textSearchOptionsPage = document.getElementById('textSearchOptionsPage');
        const textSearchResultsPage = document.getElementById('textSearchResultsPage');
        const imageSearchResultsPage = document.getElementById('imageSearchResultsPage');
        const feedbackPage = document.getElementById('feedbackPage');

        // Content elements
        const postImage = document.getElementById('postImage');
        const postTitle = document.getElementById('postTitle');
        const postDescription = document.getElementById('postDescription');
        const searchButtons = document.getElementById('searchButtons');
        const searchResults = document.getElementById('searchResults');
        const imageGrid = document.getElementById('imageGrid');
        const feedbackMessage = document.getElementById('feedbackMessage');
        const feedbackVideo = document.getElementById('feedbackVideo');

        // Current state
        let currentLanguage = 'en';
        let currentPostId = null;
        let selectedImages = [];

        // Initialize the application
        function init() {
            // Set up language switching
            languageSelector.addEventListener('change', function() {
                currentLanguage = this.value;
                updateLanguage();
            });

            // Generate posts in sidebar
            generatePosts();

            // Set up event listeners
            setupEventListeners();

            // Set initial language
            updateLanguage();

            // Show landing page
            showPage(videoInstructionsPage);
        }

        // Set up event listeners
        function setupEventListeners() {
            // Home button
            homeButton.addEventListener('click', function() {
                showPage(videoInstructionsPage);
                hideTopMenu();
            });

            // Post actions
            publishButton.addEventListener('click', function() {
                processPost('published');
            });

            flagButton.addEventListener('click', function() {
                processPost('flagged');
            });

            imageSearchButton.addEventListener('click', function() {
                if (currentPostId) {
                    showImageSearchResults();
                }
            });

            textSearchButton.addEventListener('click', function() {
                if (currentPostId) {
                    showTextSearchOptions();
                }
            });

            // Back button
            backButton.addEventListener('click', function() {
                loadPost(currentPostId);
            });

            // Image verification
            tipTrueButton.addEventListener('click', function() {
                if (selectedImages.length > 0) {
                    processPost('published');
                }
            });

            tipFalseButton.addEventListener('click', function() {
                if (selectedImages.length > 0) {
                    processPost('flagged');
                }
            });
        }

        // Generate posts in sidebar
        function generatePosts() {
            sidebarPosts.innerHTML = '';
            
            postsData.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = `post-item${post.unread ? ' unread' : ''}${post.processed ? ' processed' : ''}`;
                postElement.dataset.postId = post.id;
                
                let statusHTML = '';
                if (post.status === 'published') {
                    statusHTML = `
                        <div class="post-status">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 6L9 17L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span data-lang-key="published">Suggested to be published</span>
                        </div>
                    `;
                } else if (post.status === 'flagged') {
                    statusHTML = `
                        <div class="post-status flagged">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span data-lang-key="flagged">Flagged as false</span>
                        </div>
                    `;
                }
                
                postElement.innerHTML = `
                    <img src="${post.thumbnail}" alt="" class="post-thumbnail">
                    <div class="post-info">
                        <div class="post-title">${post.title}</div>
                        ${statusHTML}
                    </div>
                `;
                
                postElement.addEventListener('click', function() {
                    loadPost(post.id);
                });
                
                sidebarPosts.appendChild(postElement);
            });
        }

        // Load a post
        function loadPost(postId) {
            currentPostId = postId;
            const post = postsData.find(p => p.id === postId);
            
            if (post) {
                // Update post content
                postImage.src = post.image;
                postTitle.textContent = post.title;
                postDescription.textContent = post.description;
                
                // Show post view
                showPage(postViewPage);
                
                // Update top menu
                showTopMenu();
                
                // Mark as read
                if (post.unread) {
                    post.unread = false;
                    generatePosts(); // Refresh sidebar
                }
            }
        }

        // Process a post (publish or flag)
        function processPost(status) {
            if (currentPostId) {
                const post = postsData.find(p => p.id === currentPostId);
                
                if (post) {
                    post.processed = true;
                    post.status = status;
                    
                    // Update sidebar
                    generatePosts();
                    
                    // Show feedback
                    showFeedback(status);
                }
            }
        }

        // Show feedback after processing a post
        function showFeedback(status) {
            const messageKey = status === 'published' ? 'feedbackPublished' : 'feedbackFlagged';
            feedbackMessage.textContent = getLanguageText(messageKey);
            feedbackMessage.className = `feedback-message ${status === 'flagged' ? 'error' : ''}`;
            
            showPage(feedbackPage);
            hideTopMenu();
            
            // Play feedback video
            feedbackVideo.play();
            
            // After video ends, go back to home
            feedbackVideo.onended = function() {
                showPage(videoInstructionsPage);
            };
        }

        // Show text search options
        function showTextSearchOptions() {
            if (currentPostId) {
                const post = postsData.find(p => p.id === currentPostId);
                
                if (post && post.searchTerms) {
                    // Generate search buttons
                    searchButtons.innerHTML = '';
                    
                    post.searchTerms.forEach(term => {
                        const button = document.createElement('button');
                        button.className = 'search-button';
                        button.textContent = term;
                        
                        button.addEventListener('click', function() {
                            showTextSearchResults();
                        });
                        
                        searchButtons.appendChild(button);
                    });
                    
                    // Show search options page
                    showPage(textSearchOptionsPage);
                    
                    // Update top menu
                    updateTopMenu('textSearch');
                }
            }
        }

        // Show text search results
        function showTextSearchResults() {
            if (currentPostId) {
                const post = postsData.find(p => p.id === currentPostId);
                
                if (post && post.searchResults) {
                    // Generate search results
                    searchResults.innerHTML = '';
                    
                    post.searchResults.forEach(result => {
                        const resultElement = document.createElement('div');
                        resultElement.className = `search-result-item${result.isAd ? ' ad' : ''}`;
                        
                        if (result.isAd) {
                            resultElement.dataset.adText = getLanguageText('advertisement');
                        }
                        
                        resultElement.innerHTML = `
                            <h3>${result.title}</h3>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris.</p>
                        `;
                        
                        searchResults.appendChild(resultElement);
                    });
                    
                    // Show search results page
                    showPage(textSearchResultsPage);
                    
                    // Update top menu
                    updateTopMenu('textSearch');
                }
            }
        }

        // Show image search results
        function showImageSearchResults() {
            if (currentPostId) {
                const post = postsData.find(p => p.id === currentPostId);
                
                if (post && post.imageResults) {
                    // Reset selected images
                    selectedImages = [];
                    
                    // Generate image grid
                    imageGrid.innerHTML = '';
                    
                    post.imageResults.forEach((image, index) => {
                        const imageElement = document.createElement('div');
                        imageElement.className = 'image-item';
                        imageElement.dataset.index = index;
                        
                        imageElement.innerHTML = `
                            <img src="${image.src}" alt="Search result image">
                            <div class="image-info">
                                <div>${image.location}</div>
                                <div>${image.date}</div>
                            </div>
                        `;
                        
                        imageElement.addEventListener('click', function() {
                            toggleImageSelection(this);
                        });
                        
                        imageGrid.appendChild(imageElement);
                    });
                    
                    // Show image search results page
                    showPage(imageSearchResultsPage);
                    
                    // Update top menu
                    updateTopMenu('imageSearch');
                }
            }
        }

        // Toggle image selection
        function toggleImageSelection(imageElement) {
            const index = parseInt(imageElement.dataset.index);
            
            if (imageElement.classList.contains('selected')) {
                imageElement.classList.remove('selected');
                selectedImages = selectedImages.filter(i => i !== index);
            } else {
                imageElement.classList.add('selected');
                selectedImages.push(index);
            }
        }

        // Show a specific page
        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            // Show the requested page
            page.classList.add('active');
        }

        // Show top menu
        function showTopMenu() {
            topMenu.style.display = 'block';
            
            const post = postsData.find(p => p.id === currentPostId);
            
            if (post && post.processed) {
                postActionButtons.style.display = 'none';
                postStatusMessage.style.display = 'block';
                
                const statusKey = post.status === 'published' ? 'published' : 'flagged';
                postStatusMessage.textContent = getLanguageText(statusKey);
                postStatusMessage.className = `post-status-message ${post.status === 'flagged' ? 'error' : ''}`;
            } else {
                postActionButtons.style.display = 'flex';
                postStatusMessage.style.display = 'none';
            }
            
            backButton.style.display = 'none';
        }

        // Hide top menu
        function hideTopMenu() {
            topMenu.style.display = 'none';
        }

        // Update top menu based on context
        function updateTopMenu(context) {
            topMenu.style.display = 'block';
            postActionButtons.style.display = 'none';
            postStatusMessage.style.display = 'none';
            backButton.style.display = 'block';
        }

        // Update language
        function updateLanguage() {
            // Update all text elements with data-lang-key attribute
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (languageData[currentLanguage][key]) {
                    element.textContent = languageData[currentLanguage][key];
                }
            });
            
            // Update HTML lang attribute
            document.documentElement.lang = currentLanguage;
            
            // Refresh posts to update status messages
            generatePosts();
        }

        // Get text in current language
        function getLanguageText(key) {
            return languageData[currentLanguage][key] || key;
        }

        // Function to add a new post
        function addPost(post) {
            // Generate unique ID
            post.id = Math.max(...postsData.map(p => p.id)) + 1;
            post.unread = true;
            post.processed = false;
            post.status = null;
            
            // Add to data
            postsData.unshift(post);
            
            // Regenerate posts
            generatePosts();
        }

        // Initialize the app when document is loaded
        document.addEventListener('DOMContentLoaded', init);

        // Example of adding a new post
        // Uncomment to test
        /*
        setTimeout(() => {
            addPost({
                title: "New Update Just In",
                thumbnail: "/api/placeholder/60/60",
                image: "/api/placeholder/800/500",
                description: "This is a new post that was just added to the system dynamically.",
                searchTerms: ["New Update", "Breaking", "Latest", "Today"],
                searchResults: [
                    { title: "Related News Item 1", isAd: true },
                    { title: "Related News Item 2", isAd: true },
                    { title: "Related News Item 3", isAd: true },
                    { title: "Related News Item 4", isAd: false },
                    { title: "Related News Item 5", isAd: false },
                    { title: "Related News Item 6", isAd: false }
                ],
                imageResults: [
                    { src: "/api/placeholder/400/300", location: "Location 1", date: "2025-04-11" },
                    { src: "/api/placeholder/400/300", location: "Location 2", date: "2025-04-11" },
                    { src: "/api/placeholder/400/300", location: "Location 3", date: "2025-04-10" },
                    { src: "/api/placeholder/400/300", location: "Location 4", date: "2025-04-10" }
                ]
            });
        }, 5000);
        */
    </script>
</body>
</html>